From 88b19e879192469a2dc0cfade6ace33c30ad8926 Mon Sep 17 00:00:00 2001
From: S-trace <S-trace@list.ru>
Date: Sun, 29 May 2016 16:13:56 +0300
Subject: [PATCH] [BOOT] fstab: Move fstab.qcom to fstab.d10f

---
 ramdisk/fstab.d10f               |  12 ++++++++++++
 ramdisk/fstab.qcom               |  12 ------------
 ramdisk/init.target.rc           |   2 +-
 3 files changed, 13 insertions(+), 13 deletions(-)
 create mode 100755 ramdisk/fstab.d10f
 delete mode 100755 ramdisk/fstab.qcom

diff --git a/ramdisk/fstab.d10f b/ramdisk/fstab.d10f
new file mode 100755
index 0000000..808d804
--- /dev/null
+++ b/ramdisk/fstab.d10f
@@ -0,0 +1,12 @@
+# Android fstab file.
+# The filesystem that contains the filesystem checker binary (typically /system) cannot
+# specify MF_CHECK, and must come before any filesystems that do specify MF_CHECK
+
+#TODO: Add 'check' as fs_mgr_flags with data partition.
+# Currently we dont have e2fsck compiled. So fs check would failed.
+
+#<src>                                                <mnt_point>          <type>  <mnt_flags and options>                             <fs_mgr_flags>
+/dev/block/platform/msm_sdcc.1/by-name/system         /system              ext4    ro,barrier=1                                        wait
+/dev/block/platform/msm_sdcc.1/by-name/userdata       /data                ext4    nosuid,nodev,barrier=1,noauto_da_alloc,discard      wait,check,encryptable=/dev/block/platform/msm_sdcc.1/by-name/bk1
+/devices/msm_sdcc.2/mmc_host                          /storage/sdcard1     vfat    nosuid,nodev                                        wait,voldmanaged=sdcard1:auto
+/devices/platform/msm_hsusb_host/usb1                 /storage/usbotg      vfat    nosuid,nodev                                        wait,voldmanaged=usbotg:auto
diff --git a/ramdisk/fstab.qcom b/ramdisk/fstab.qcom
deleted file mode 100755
index 808d804..0000000
--- a/ramdisk/fstab.qcom
+++ /dev/null
@@ -1,12 +0,0 @@
-# Android fstab file.
-# The filesystem that contains the filesystem checker binary (typically /system) cannot
-# specify MF_CHECK, and must come before any filesystems that do specify MF_CHECK
-
-#TODO: Add 'check' as fs_mgr_flags with data partition.
-# Currently we dont have e2fsck compiled. So fs check would failed.
-
-#<src>                                                <mnt_point>          <type>  <mnt_flags and options>                             <fs_mgr_flags>
-/dev/block/platform/msm_sdcc.1/by-name/system         /system              ext4    ro,barrier=1                                        wait
-/dev/block/platform/msm_sdcc.1/by-name/userdata       /data                ext4    nosuid,nodev,barrier=1,noauto_da_alloc,discard      wait,check,encryptable=/dev/block/platform/msm_sdcc.1/by-name/bk1
-/devices/msm_sdcc.2/mmc_host                          /storage/sdcard1     vfat    nosuid,nodev                                        wait,voldmanaged=sdcard1:auto
-/devices/platform/msm_hsusb_host/usb1                 /storage/usbotg      vfat    nosuid,nodev                                        wait,voldmanaged=usbotg:auto
diff --git a/ramdisk/init.target.rc b/ramdisk/init.target.rc
index 25e690d..214a826 100755
--- a/ramdisk/init.target.rc
+++ b/ramdisk/init.target.rc
@@ -37,7 +37,7 @@ on init
     mkdir /dev/pipes 0771 system system
 
 on fs
-    mount_all fstab.qcom
+    mount_all fstab.d10f
 
     # Keeping following partitions outside fstab file. As user may not have
     # these partition flashed on the device. Failure to mount any partition in fstab file
-- 
2.7.4

